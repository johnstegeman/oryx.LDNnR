# Oxyx with custom QMK - local compile

Inspired by: https://github.com/poulainpi/oryx-with-custom-qmk

This repository allows combining the convenience of [Oryxâ€™s](https://www.zsa.io/oryx) graphical layout editing with the power of [QMK](https://qmk.fm), allowing you to customize your Oryx layout with advanced QMK features like Achordion and Repeat Key. This repository is for those who compile their firmware locally.

## How it works

1. This repository has 2 branches. The "oryx" branch contains the firmware source code generated by Oryx
2. The main branch is where the actual firmware source code lives. You will update the main branch with your changes
3. Every time you run .bin/download_and_commit_oryx.sh, the script will update the oryx branch with the latest source code from Oryx, merge it into the main branch, and build the firmware (containing the Oryx-based keymap and your custom code).

## How to use

1. Fork this repository (be sure to **uncheck the "Copy the main branch only" option**).
2. To initialize the repository with your layout:
   - clone the repository to your local machine
   - Update the config.json file with your layout ID and keyboard type (in the main branch). You should probably go ahead and commit the change and push.
   - run .bin/download_and_commit_oryx.sh from a shell prompt.
3. A folder containing your layout will be generated in the userspace directory in a folder named according to your keyboard type and Oryx layout id. For example, if you have Oryx layout "xxxxxx" and a voyager keyboard, your layout's files will be in userspace/keyboards/zsa/voyager/keymaps/oryx.xxxxxx
4. You can now add your custom QMK features to this folder:
   - Edit `config.h`, `keymap.c` and `rules.mk` according to the [QMK documentation](https://github.com/qmk/qmk_firmware/tree/master/docs/features).
   - Commit and push to the **main** branch.
5. You can continue editing your layout through Oryx:
   - Make your changes in Oryx. 
   - Optionally, add a description of your changes in the **Some notes about what you changed** field; if provided, this will be used as commit message.
   - Confirm changes by clicking the **Compile this layout** button.
6. To build the firmware (including both Oryx and code modifications), rerun the .bin/download_and_commit_oryx.sh. The firmware will be available both in the userspace and qmk_firmware directories.
7. Flash your downloaded firmware using [Keymapp](https://www.zsa.io/flash#flash-keymap).
8. Enjoy!

